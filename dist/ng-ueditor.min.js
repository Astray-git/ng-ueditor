!function(){"use strict";var t=function(t,e,n,r){var i=0,o="ng-ueditor",d=function(d,a,u,s){if(void 0===t.UE)return void e.warn("Can not load ueditor.");var l,v,c=!1,f=s[0],$=d.$eval(u.ngUeditor),g=d.$eval(u.ready),m=void 0!==u.allHtml;void 0!==u.id?v=u.id:(v=o+"-"+i++,u.$set("id",v));var w=function(t){f.$setViewValue(t),r.$applyAsync()},A=function(t){var e=t.getContent().trim();e=n.trustAsHtml(e),w(e)},E=function(t){var e=t.getAllHtml().trim();e=n.trustAsHtml(e),w(e)};f.$formatters.unshift(function(t){return t?n.trustAsHtml(t):""}),f.$parsers.unshift(function(t){return t?n.getTrustedHtml(t):""}),f.$render=function(){var t=f.$viewValue?n.getTrustedHtml(f.$viewValue):"";void 0!==l&&c===!0&&(l.setContent(t),l.fireEvent("contentChange"))},l=UE.getEditor(v,$);var H=function(){c=!0;var t=m===!0?E.bind(void 0,l):A.bind(void 0,l);l.addListener("afterExecCommand",t),l.addListener("contentChange",t),$.enableAutoSave===!1&&l.addListener("showmessage",function(t,e){return"本地保存成功"===e.content?!0:void 0}),angular.isFunction(g)&&g(l,d,a,u,f),f.$render(),f.$setPristine()};l.ready(H),d.$on("$destroy",function(){void 0!==l&&(UE.delEditor(v),l=void 0)})};return{restrict:"A",require:["ngModel"],link:d}};angular.module("ng.ueditor",[]).directive("ngUeditor",["$window","$log","$sce","$rootScope",t])}();