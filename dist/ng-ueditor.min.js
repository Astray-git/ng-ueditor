!function(){"use strict";var t=function(t,n,e,i){var r=0,o="ng-ueditor",d=function(d,a,u,c){if(void 0===t.UE)return void n.warn("Can not load ueditor.");var s,v,l=!1,f=c[0],$=d.$eval(u.ngUeditor)||{},g=d.$eval(u.ready),m=void 0!==u.allHtml;void 0!==u.id?v=u.id:(v=o+"-"+r++,u.$set("id",v));var E=function(t){f.$setViewValue(t),i.$applyAsync()},w=function(t){var n=t.getContent().trim();E(n)},C=function(t){var n=t.getAllHtml().trim();E(n)};f.$formatters.unshift(function(t){return t?e.trustAsHtml(t):""}),f.$render=function(){var t=e.getTrustedHtml(f.$viewValue||"");void 0!==s&&l===!0&&(s.setContent(t),s.fireEvent("contentChange"))},s=UE.getEditor(v,$);var y=function(){l=!0;var t=m===!0?C.bind(void 0,s):w.bind(void 0,s);s.addListener("afterExecCommand",t),s.addListener("contentChange",t),$.enableAutoSave===!1&&s.addListener("showmessage",function(t,n){return"本地保存成功"===n.content||"Local conservation success"===n.content?!0:void 0}),angular.isFunction(g)&&g(s,d,a,u,f),f.$render(),f.$setPristine()};s.ready(y),d.$on("$destroy",function(){void 0!==s&&(UE.delEditor(v),s=void 0)})};return{restrict:"A",require:["ngModel"],link:d}};angular.module("ng.ueditor",[]).directive("ngUeditor",["$window","$log","$sce","$rootScope",t])}();